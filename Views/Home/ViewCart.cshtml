@model IEnumerable<PizzaStore.Models.OrderDetail>

@{
	ViewData["Title"] = "Cart";
}

@if (Model.FirstOrDefault() == null)
{
	<p>Your cart is empty!</p>
	<a href="@Url.Action("Index", "Home")">
		<input type="button" value="Add a Pizza" />
	</a>
}

else
{
	<ul style="list-style: none;">
		@foreach (OrderDetail orderDetail in Model)
		{
			//Should send you to an edit page not add but fine for now
			<h6>
				@orderDetail.Product.Name
			</h6>
			<li>
				@Html.ActionLink("Quantity: " + orderDetail.Quantity.ToString(), "EditCart", new { id = orderDetail.Id })
			</li>
			<li>
				$@orderDetail.Product.Price each
			</li>
			<li>
				$@(orderDetail.Product.Price* orderDetail.Quantity) Total
			</li>
			<li>
				<a asp-controller="Home" asp-action="Delete" asp-route-id="@orderDetail.Id" class="btn btn-close btn-outline-danger"></a>
			</li>
			<br />
		}
	</ul>
	<p>
		The total cost of the cart is:
		$@ViewData["Total"]
	</p>

	<a asp-controller="Checkout" asp-action="Index" class="btn btn-outline-primary">
		Checkout
	</a>
}